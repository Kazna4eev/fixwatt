{% extends "base.html" %}
{% load static %}

{% block title %}Головна - FixWatt Store{% endblock %}

{% block content %}
<div class="p-5 mb-4 bg-light rounded-3 shadow-sm hero-section position-relative overflow-hidden">
    <div class="container-fluid py-5 position-relative" style="z-index: 2;">
        <h1 class="display-5 fw-bold brand-text">Ласкаво просимо до FixWatt</h1>
        <p class="col-md-8 fs-4">Найкращі рішення для вашого енергонезалежного дому. Знайдіть все необхідне в нашому
            каталозі.</p>
        <a href="{% url 'products:product_list' %}" class="btn btn-primary btn-lg rounded-pill px-5 shadow-sm">Перейти
            до каталогу</a>
    </div>
    <div class="hero-bg-icon position-absolute top-50 end-0 translate-middle-y opacity-25 me-5">
        <i class="fas fa-bolt" style="font-size: 15rem; color: var(--brand-green);"></i>
    </div>
</div>

<section class="mb-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="fw-bold">Рекомендовані товари</h2>
        <a href="{% url 'products:product_list' %}" class="text-decoration-none fw-bold text-success">Всі товари <i
                class="fas fa-arrow-right ms-1"></i></a>
    </div>
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4">
        {% for product in featured_products %}
        <div class="col">
            <div class="card h-100 border-0 shadow-sm product-card">
                <div class="product-image-wrapper position-relative">
                    {% if product.image %}
                    <a href="{{ product.get_absolute_url }}">
                        <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}">
                    </a>
                    {% else %}
                    <a href="{{ product.get_absolute_url }}">
                        <img src="{% static 'img/no_image.png' %}" class="card-img-top" alt="No image">
                    </a>
                    {% endif %}
                    <span class="position-absolute top-0 start-0 badge bg-warning text-dark m-2"><i
                            class="fas fa-star me-1"></i>Top</span>
                </div>
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title">
                        <a href="{{ product.get_absolute_url }}" class="text-decoration-none text-dark stretched-link">
                            {{ product.name }}
                        </a>
                    </h5>
                    <div class="mt-auto">
                        <p class="card-text fw-bold fs-5">{{ product.get_display_price }} грн</p>
                    </div>
                </div>
            </div>
        </div>
        {% empty %}
        <p class="text-muted">Немає рекомендованих товарів.</p>
        {% endfor %}
    </div>
</section>

<section class="mb-5">
    <h2 class="fw-bold mb-4">Новинки</h2>
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4">
        {% for product in latest_products %}
        <div class="col">
            <div class="card h-100 border-0 shadow-sm product-card">
                <div class="product-image-wrapper position-relative">
                    {% if product.image %}
                    <a href="{{ product.get_absolute_url }}">
                        <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}">
                    </a>
                    {% else %}
                    <a href="{{ product.get_absolute_url }}">
                        <img src="{% static 'img/no_image.png' %}" class="card-img-top" alt="No image">
                    </a>
                    {% endif %}
                    <span class="position-absolute top-0 start-0 badge bg-info text-dark m-2">New</span>
                </div>
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title">
                        <a href="{{ product.get_absolute_url }}" class="text-decoration-none text-dark stretched-link">
                            {{ product.name }}
                        </a>
                    </h5>
                    <div class="mt-auto">
                        <p class="card-text fw-bold fs-5">{{ product.get_display_price }} грн</p>
                    </div>
                </div>
            </div>
        </div>
        {% empty %}
        <p class="text-muted">Немає нових товарів.</p>
        {% endfor %}
    </div>
</section>
{% endblock %}